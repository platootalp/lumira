# OpenCode Configuration for Lumira
# 基金投资助手 - OpenCode Agentic 配置

[project]
name = "lumira"
description = "基金投资助手 - 面向散户投资者的基金持仓管理应用"
type = "nextjs"

[agents]
# 可用的 Agent 角色
enabled = [
  "fund-analyst",      # 基金数据分析师
  "ui-architect",      # UI架构师
  "backend-engineer",  # 后端工程师
]

default = "fund-analyst"

[agents.fund-analyst]
path = ".claude/agents/fund-analyst.md"
system_prompt = "你是基金投资助手的数据分析师，擅长基金净值分析、收益计算和风险评估。"
temperature = 0.3

[agents.ui-architect]
path = ".claude/agents/ui-architect.md"
system_prompt = "你是基金投资助手的UI架构师，专注于React/TypeScript前端开发、数据可视化和移动端适配。"
temperature = 0.2

[agents.backend-engineer]
path = ".claude/agents/backend-engineer.md"
system_prompt = "你是基金投资助手的后端工程师，专注于 Next.js API Routes、数据同步和第三方集成。"
temperature = 0.2

[skills]
# 可用的 Skills
enabled = [
  "calculate-xirr",
  "fund-data-fetch",
  "portfolio-analysis",
]

[skills.calculate-xirr]
path = ".claude/skills/calculate-xirr.md"
description = "计算投资组合的扩展内部收益率(XIRR)"

[skills.fund-data-fetch]
path = ".claude/skills/fund-data-fetch.md"
description = "从多个数据源获取基金信息和实时估值"

[skills.portfolio-analysis]
path = ".claude/skills/portfolio-analysis.md"
description = "投资组合综合分析，生成资产总览和收益报表"

[commands]
# 自定义命令
enabled = [
  "add-holding",
  "analyze-portfolio",
]

[commands.add-holding]
path = ".claude/commands/add-holding.md"
trigger = "/add-holding"

[commands.analyze-portfolio]
path = ".claude/commands/analyze-portfolio.md"
trigger = "/analyze-portfolio"

[rules]
# 代码规范
enabled = [
  "typescript",
  "react",
]

[rules.typescript]
path = ".claude/rules/typescript.md"
applies_to = ["**/*.ts", "**/*.tsx"]

[rules.react]
path = ".claude/rules/react.md"
applies_to = ["**/*.tsx", "**/*.jsx"]

[context]
# 项目上下文
prd = "docs/plans/2024-02-20-fund-assistant-prd.md"

[integrations]
# MCP (Model Context Protocol)
mcp_servers = []
# 可选: "playwright", "github", "postgres"

[preferences]
# 用户偏好
language = "zh-CN"
currency = "CNY"
chart_library = "echarts"
data_source_primary = "eastmoney"
data_source_fallback = "sina"
