# Lumira 功能验收计划

> 创建日期: 2025-02-26

## 📋 验收概述

本文档定义 Lumira 基金投资应用的功能验收测试计划，包括测试范围、测试用例和验收标准。

---

## 🎯 验收范围

### 1. 认证功能验收

| 测试项 | 测试场景 | 预期结果 | 优先级 |
|--------|----------|----------|--------|
| 用户注册 | 输入有效信息注册 | 注册成功，自动登录 | P0 |
| 用户注册 | 输入已存在邮箱 | 显示错误提示 | P0 |
| 用户登录 | 输入正确凭证 | 登录成功，跳转首页 | P0 |
| 用户登录 | 输入错误密码 | 显示错误提示 | P0 |
| 路由守卫 | 未登录访问保护页面 | 自动跳转登录页 | P0 |
| 登录重定向 | 从保护页面跳转登录后 | 返回原页面 | P1 |
| Token 刷新 | Token 过期后访问 API | 自动刷新，无感续期 | P0 |
| 用户登出 | 点击登出 | 清除 Token，跳转登录 | P0 |

### 2. 基金功能验收

| 测试项 | 测试场景 | 预期结果 | 优先级 |
|--------|----------|----------|--------|
| 基金搜索 | 输入基金名称 | 显示匹配结果 | P0 |
| 基金搜索 | 输入6位基金代码 | 显示精确匹配 | P0 |
| 实时估值 | 查看基金详情 | 显示当日估值和涨跌 | P0 |
| 净值历史 | 查看基金详情图表 | 显示历史净值曲线 | P1 |
| 基金排行 | 访问排行页 | 显示涨幅/跌幅/热门榜 | P1 |

### 3. 持仓功能验收

| 测试项 | 测试场景 | 预期结果 | 优先级 |
|--------|----------|----------|--------|
| 资产总览 | 登录后访问首页 | 显示总资产和收益 | P0 |
| 持仓列表 | 访问持仓页 | 显示所有持仓基金 | P0 |
| 添加持仓 | 搜索基金并添加 | 持仓出现在列表中 | P0 |
| 更新持仓 | 修改持仓信息 | 数据更新成功 | P1 |
| 删除持仓 | 删除持仓 | 从列表移除 | P1 |

### 4. 交易功能验收

| 测试项 | 测试场景 | 预期结果 | 优先级 |
|--------|----------|----------|--------|
| 添加买入 | 记录买入交易 | 交易记录保存，持仓更新 | P0 |
| 添加卖出 | 记录卖出交易 | 交易记录保存，持仓更新 | P0 |
| 交易列表 | 查看基金详情 | 显示该基金的 all 交易 | P0 |
| 删除交易 | 删除交易记录 | 记录删除，持仓回退 | P1 |

### 5. 数据导入导出验收

| 测试项 | 测试场景 | 预期结果 | 优先级 |
|--------|----------|----------|--------|
| 搜索导入 | 搜索添加基金 | 成功导入持仓 | P0 |
| 手动录入 | 填写表单导入 | 数据验证，导入成功 | P0 |
| Excel 导入 | 上传 Excel 文件 | 识别并导入数据 | P1 |
| JSON 导出 | 点击导出 JSON | 下载完整数据文件 | P1 |
| CSV 导出 | 点击导出 CSV | 下载持仓 CSV 文件 | P1 |

### 6. 分析功能验收

| 测试项 | 测试场景 | 预期结果 | 优先级 |
|--------|----------|----------|--------|
| 资产配置图表 | 查看首页图表 | 显示持仓类型分布 | P1 |
| 收益分布图表 | 查看收益分布 | 显示各持仓收益对比 | P1 |
| 净值历史图表 | 查看基金详情 | 可交互的历史曲线 | P1 |
| 定投计算器 | 输入参数计算 | 显示未来价值预估 | P1 |

### 7. 基金对比验收

| 测试项 | 测试场景 | 预期结果 | 优先级 |
|--------|----------|----------|--------|
| 添加对比 | 添加基金到对比 | 显示在对比列表 | P1 |
| 对比展示 | 查看对比页 | 并排显示基金信息 | P1 |
| 移除对比 | 从对比中移除 | 列表更新 | P2 |

### 8. UI/UX 验收

| 测试项 | 测试场景 | 预期结果 | 优先级 |
|--------|----------|----------|--------|
| 响应式布局 | 调整浏览器大小 | 布局自适应 | P1 |
| 主题切换 | 切换暗黑/亮色模式 | 界面颜色变化 | P2 |
| 加载状态 | 等待数据加载 | 显示加载动画 | P1 |
| 错误提示 | 操作失败 | 显示 Toast 错误信息 | P1 |
| 空状态 | 访问无数据页面 | 显示空状态插图 | P1 |

---

## ✅ 验收标准

### 通过标准

1. **P0 功能**: 100% 测试通过，无阻塞性 Bug
2. **P1 功能**: 90% 以上测试通过，非阻塞性 Bug 可记录后修复
3. **P2 功能**: 80% 以上测试通过

### 性能标准

| 指标 | 标准 |
|------|------|
| 页面首屏加载 | < 3 秒 |
| API 响应时间 | < 1 秒（95% 请求）|
| 基金搜索响应 | < 500ms |
| 图表渲染 | < 2 秒 |

### 兼容性标准

| 浏览器 | 版本要求 |
|--------|----------|
| Chrome | 最新 2 个版本 |
| Firefox | 最新 2 个版本 |
| Safari | 最新 2 个版本 |
| Edge | 最新 2 个版本 |

---

## 🧪 验收工具

### 自动化测试
- **前端单元测试**: Jest + React Testing Library
- **E2E 测试**: Playwright
- **API 测试**: 后端 Jest 测试

### 手动测试
- **功能验证**: 按测试用例逐项验证
- **UI 检查**: 视觉还原度检查
- **用户体验**: 操作流程顺畅度

---

## 📊 验收报告模板

```markdown
## 验收报告 - [日期]

### 测试环境
- 前端版本: [commit hash]
- 后端版本: [commit hash]
- 浏览器: [版本]
- 测试人员: [姓名]

### 执行摘要
- 测试用例总数: [N]
- 通过: [N] ([%])
- 失败: [N] ([%])
- 阻塞: [N]

### 详细结果
#### 认证功能
- [ ] 用户注册 - [结果]
- [ ] 用户登录 - [结果]
...

### 发现的问题
| 优先级 | 问题描述 | 复现步骤 | 截图 |
|--------|----------|----------|------|
| P0 | ... | ... | ... |

### 结论
- [ ] 验收通过
- [ ] 有条件通过（需修复 P0 问题）
- [ ] 验收不通过

### 签名
测试人员: _____________ 日期: _____________
产品负责人: _____________ 日期: _____________
```

---

## 🚀 验收流程

1. **准备阶段**
   - 部署最新版本到测试环境
   - 准备测试数据
   - 确认测试环境配置

2. **执行阶段**
   - 按优先级执行测试用例
   - 记录测试结果和问题
   - 截图记录 UI 问题

3. **修复阶段**
   - 修复 P0 问题
   - 评估 P1/P2 问题修复计划

4. **复测阶段**
   - 验证问题修复
   - 回归测试相关功能

5. **结论阶段**
   - 生成验收报告
   - 项目干系人签字确认

---

*本文档为功能验收提供指导和参考，具体执行时可根据实际情况调整。*
